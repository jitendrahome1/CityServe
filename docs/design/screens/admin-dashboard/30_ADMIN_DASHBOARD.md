# Admin Dashboard Home

## Overview
- **Screen ID**: 30
- **Screen Name**: Admin Dashboard Home
- **User Role**: Admin, Super Admin
- **Platform**: Web (Desktop)
- **Navigation**: Default landing page after admin login

## ASCII Wireframe

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UrbanNest Admin                                    ğŸ” Search...        ğŸ‘¤ Admin  ğŸ””   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                                                          â”‚
â”‚  ğŸ“Š Dashboardâ”‚  Dashboard Overview                                    ğŸ“… Dec 20, 2024 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                                                          â”‚
â”‚  ğŸ‘¥ Providersâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  ğŸ“‹ Bookings â”‚  â”‚ ğŸ“ˆ Revenue   â”‚ â”‚ ğŸ“… Bookings  â”‚ â”‚ ğŸ‘¤ Customers â”‚ â”‚ ğŸ”§ Providers â”‚  â”‚
â”‚  ğŸ‘¨ Customersâ”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚  â”‚
â”‚  ğŸ”§ Services â”‚  â”‚  â‚¹1,24,500   â”‚ â”‚     248      â”‚ â”‚    1,245     â”‚ â”‚     186      â”‚  â”‚
â”‚  ğŸ’° Payments â”‚  â”‚  +12% â†‘     â”‚ â”‚  +8% â†‘      â”‚ â”‚  +15% â†‘     â”‚ â”‚  +5% â†‘      â”‚  â”‚
â”‚  ğŸ“Š Analyticsâ”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚  â”‚
â”‚  âš™ï¸ Settings â”‚  â”‚  This month  â”‚ â”‚    Today     â”‚ â”‚    Active    â”‚ â”‚   Active     â”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                                                                          â”‚
â”‚              â”‚  ğŸ“‹ Recent Activity                          [View All]                 â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚              â”‚  â”‚ Type         â”‚ Details                      â”‚ Time       â”‚ Status  â”‚â”‚
â”‚              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚              â”‚  â”‚ ğŸ”§ Booking   â”‚ AC Repair - Amit Kumar       â”‚ 2 min ago  â”‚ âœ… Done â”‚â”‚
â”‚              â”‚  â”‚ ğŸ‘¤ Provider  â”‚ New registration - Rajesh    â”‚ 15 min ago â”‚ â³ Pendingâ”‚â”‚
â”‚              â”‚  â”‚ ğŸ’° Payment   â”‚ Payout to Priya Sharma       â”‚ 1 hour ago â”‚ âœ… Paid â”‚â”‚
â”‚              â”‚  â”‚ ğŸ”§ Booking   â”‚ Plumbing - Rahul Singh       â”‚ 2 hour ago â”‚ â³ Activeâ”‚â”‚
â”‚              â”‚  â”‚ ğŸ‘¤ Customer  â”‚ New signup - Neha Verma      â”‚ 3 hour ago â”‚ âœ… Done â”‚â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚              â”‚                                                                          â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚              â”‚  â”‚ ğŸ“Š Booking Trends (Last 7 Days)â”‚  â”‚ âš ï¸ Pending Actions          â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚      [Line Chart]             â”‚  â”‚ â€¢ 12 Provider approvals     â”‚   â”‚
â”‚              â”‚  â”‚      Showing booking volume   â”‚  â”‚ â€¢ 5 Dispute resolutions     â”‚   â”‚
â”‚              â”‚  â”‚      per day                  â”‚  â”‚ â€¢ 3 Refund requests         â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚ â€¢ 8 Service verifications   â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚ [Review All]                 â”‚   â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                                                                          â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚              â”‚  â”‚ ğŸŒŸ Top Performing Providers   â”‚  â”‚ ğŸ“ Service Coverage Map      â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚ 1. Rajesh Kumar  â­ 4.9 (85) â”‚  â”‚   [Interactive Map]          â”‚   â”‚
â”‚              â”‚  â”‚    â‚¹45,200 earned this month â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚   Showing provider density   â”‚   â”‚
â”‚              â”‚  â”‚ 2. Priya Sharma  â­ 4.8 (72) â”‚  â”‚   across Delhi NCR           â”‚   â”‚
â”‚              â”‚  â”‚    â‚¹38,900 earned this month â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚ 3. Amit Patel    â­ 4.8 (68) â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚    â‚¹36,500 earned this month â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚                               â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â”‚ [View All Providers]          â”‚  â”‚                              â”‚   â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Layout Specifications

### Desktop Breakpoints
- **Large Desktop**: 1920x1080 (primary design)
- **Standard Desktop**: 1440x900
- **Laptop**: 1366x768 (minimum supported)

### Sidebar Navigation
- **Width**: 200px (collapsed: 60px)
- **Background**: #1E1E1E (dark) or #FFFFFF (light theme)
- **Active Item**: Deep Teal (#0D7377) background, white text
- **Hover**: Light gray background (#F5F5F5)
- **Icons**: 20x20px, Inter Medium 14px text

### Top Header Bar
- **Height**: 64px
- **Background**: White (#FFFFFF) with subtle shadow
- **Logo**: "UrbanNest Admin" Inter SemiBold 20px
- **Search Bar**: 300px width, 40px height, rounded 8px
- **User Profile**: Avatar 36x36px, name Inter Regular 14px
- **Notifications**: Bell icon with badge count

### Stat Cards (4 Cards)
- **Grid**: 4 columns (equal width)
- **Card Size**: Flexible width x 140px height
- **Border Radius**: 12px
- **Shadow**: 0 2px 8px rgba(0,0,0,0.08)
- **Padding**: 20px
- **Icon**: 32x32px top-left
- **Value**: Inter Bold 32px, #1E1E1E
- **Change**: Inter Medium 14px, Green (#28C76F) or Red (#EA5455)
- **Label**: Inter Regular 12px, #666666

### Recent Activity Table
- **Width**: Full container width
- **Row Height**: 56px
- **Header**: Inter SemiBold 14px, #666666
- **Cell Text**: Inter Regular 14px, #1E1E1E
- **Border**: 1px solid #E0E0E0
- **Hover**: Light gray background (#F9F9F9)
- **Status Badge**:
  - Done: Green (#28C76F) background, white text
  - Pending: Orange (#FFC107) background, dark text
  - Active: Blue (#00CFE8) background, white text

### Section Spacing
- **Container Padding**: 24px all sides
- **Card Margin**: 16px between cards
- **Section Margin**: 32px between major sections

## Components Used

### Stat Card
```jsx
const StatCard = ({ icon, value, change, label, trend }) => {
  return (
    <div className="stat-card">
      <div className="icon">{icon}</div>
      <h2 className="value">{value}</h2>
      <div className="change" data-trend={trend}>
        {change} {trend === 'up' ? 'â†‘' : 'â†“'}
      </div>
      <p className="label">{label}</p>
    </div>
  );
};
```

### Activity Table Row
```jsx
const ActivityRow = ({ type, details, time, status }) => {
  return (
    <tr className="activity-row">
      <td>
        <span className="type-icon">{getIcon(type)}</span>
        {type}
      </td>
      <td>{details}</td>
      <td className="time">{time}</td>
      <td>
        <StatusBadge status={status} />
      </td>
    </tr>
  );
};
```

### Sidebar Navigation
```jsx
const AdminSidebar = ({ activePage }) => {
  const navItems = [
    { icon: 'ğŸ“Š', label: 'Dashboard', path: '/' },
    { icon: 'ğŸ‘¥', label: 'Providers', path: '/providers' },
    { icon: 'ğŸ“‹', label: 'Bookings', path: '/bookings' },
    { icon: 'ğŸ‘¨', label: 'Customers', path: '/customers' },
    { icon: 'ğŸ”§', label: 'Services', path: '/services' },
    { icon: 'ğŸ’°', label: 'Payments', path: '/payments' },
    { icon: 'ğŸ“Š', label: 'Analytics', path: '/analytics' },
    { icon: 'âš™ï¸', label: 'Settings', path: '/settings' },
  ];

  return (
    <aside className="admin-sidebar">
      {navItems.map(item => (
        <NavItem
          key={item.path}
          {...item}
          isActive={activePage === item.path}
        />
      ))}
    </aside>
  );
};
```

## Key Features

### Real-time Stats
- Auto-refresh every 30 seconds
- WebSocket connection for instant updates
- Trend indicators (percentage change)
- Comparison periods (day/week/month)

### Activity Feed
- Last 10 activities displayed
- Real-time updates via Firebase Firestore listener
- Filter by activity type
- Click row to view details

### Pending Actions Panel
- High-priority tasks requiring attention
- Color-coded by urgency
- Direct links to action pages
- Badge counts auto-update

### Charts & Analytics
- **Booking Trends**: Line chart showing 7-day booking volume
- **Service Coverage Map**: Interactive map with provider distribution
- **Top Performers**: Ranked list of highest-earning providers
- Chart library: Recharts or Chart.js

## Interactions

### Stat Card Click
- Navigate to detailed view
- Example: Click "Bookings" â†’ Navigate to Bookings Dashboard

### Activity Row Click
- Open modal with full activity details
- Actions available (approve, reject, view more)

### Pending Actions Click
- Navigate to specific management page
- Example: "12 Provider approvals" â†’ Provider Approvals List

### Search Bar
- Global search across all entities
- Auto-suggestions dropdown
- Search scope: Bookings, Providers, Customers, Services
- Keyboard shortcut: Cmd/Ctrl + K

### Notification Bell
- Show notification dropdown
- Unread count badge
- Mark as read functionality
- Navigate to notification detail

## Data Loading

### Initial Load
```javascript
const AdminDashboard = () => {
  const [stats, setStats] = useState(null);
  const [activities, setActivities] = useState([]);
  const [pendingActions, setPendingActions] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    loadDashboardData();

    // Real-time activity updates
    const unsubscribe = firestore
      .collection('activities')
      .orderBy('timestamp', 'desc')
      .limit(10)
      .onSnapshot(snapshot => {
        const newActivities = snapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        }));
        setActivities(newActivities);
      });

    return () => unsubscribe();
  }, []);

  const loadDashboardData = async () => {
    try {
      const [statsData, pendingData] = await Promise.all([
        fetchDashboardStats(),
        fetchPendingActions()
      ]);
      setStats(statsData);
      setPendingActions(pendingData);
    } catch (error) {
      showErrorToast('Failed to load dashboard');
    } finally {
      setLoading(false);
    }
  };
};
```

### Auto-refresh Stats
- Refresh interval: 30 seconds
- Only when tab is active (Page Visibility API)
- Debounce rapid refreshes

## Permissions

### Admin Roles
- **Super Admin**: Full access to all features
- **Admin**: View and manage bookings, providers, customers
- **Finance Admin**: Access to payments and analytics only
- **Support Admin**: View-only access, can update booking status

### Feature Access Matrix
| Feature | Super Admin | Admin | Finance | Support |
|---------|-------------|-------|---------|---------|
| View Dashboard | âœ… | âœ… | âœ… | âœ… |
| Manage Providers | âœ… | âœ… | âŒ | âŒ |
| Manage Bookings | âœ… | âœ… | âŒ | âœ… |
| Manage Services | âœ… | âœ… | âŒ | âŒ |
| View Payments | âœ… | âœ… | âœ… | âŒ |
| Process Refunds | âœ… | âŒ | âœ… | âŒ |
| System Settings | âœ… | âŒ | âŒ | âŒ |

## States

### Loading State
- Skeleton loaders for stat cards
- Shimmer effect on tables
- Spinner for charts

### Error State
- Error message with retry button
- Fallback to cached data if available
- Toast notification for errors

### Empty State
- No activities: "No recent activity"
- No pending actions: "All caught up! ğŸ‰"
- No providers: "No providers yet"

## Dark Mode

### Color Adjustments
- Background: #121212
- Surface (cards): #1E1E1E
- Text Primary: #E0E0E0
- Text Secondary: #A0A0A0
- Border: #2A2A2A
- Sidebar: #1A1A1A

## Accessibility

### Keyboard Navigation
- Tab through all interactive elements
- Enter to activate buttons/links
- Esc to close modals
- Arrow keys for table navigation

### Screen Reader
- Proper heading hierarchy (h1, h2, h3)
- ARIA labels for icon buttons
- Table headers properly associated
- Live regions for real-time updates

### Focus Management
- Visible focus indicators
- Focus trap in modals
- Skip to main content link

## Analytics Tracking

- `admin_dashboard_viewed`: Dashboard loaded
- `stat_card_clicked`: Which stat card clicked
- `activity_row_clicked`: Activity type clicked
- `pending_action_clicked`: Action type clicked
- `chart_interaction`: Chart filters/interactions
- `search_used`: Global search performed
- `notification_opened`: Notification panel opened

## API Endpoints

### GET /api/admin/dashboard/stats
```json
{
  "revenue": {
    "value": 124500,
    "change": 12,
    "trend": "up",
    "period": "month"
  },
  "bookings": {
    "value": 248,
    "change": 8,
    "trend": "up",
    "period": "today"
  },
  "customers": {
    "value": 1245,
    "change": 15,
    "trend": "up",
    "period": "active"
  },
  "providers": {
    "value": 186,
    "change": 5,
    "trend": "up",
    "period": "active"
  }
}
```

### GET /api/admin/activities?limit=10
```json
{
  "activities": [
    {
      "id": "act_123",
      "type": "booking",
      "icon": "ğŸ”§",
      "details": "AC Repair - Amit Kumar",
      "timestamp": "2024-12-20T14:32:00Z",
      "status": "completed"
    }
  ]
}
```

### GET /api/admin/pending-actions
```json
{
  "providerApprovals": 12,
  "disputes": 5,
  "refunds": 3,
  "serviceVerifications": 8
}
```

## Testing Checklist

- âœ… All stat cards display correct data
- âœ… Real-time activity updates work
- âœ… Charts render properly
- âœ… Sidebar navigation works
- âœ… Search functionality works
- âœ… Notifications panel works
- âœ… Responsive on different screen sizes
- âœ… Dark mode toggle works
- âœ… Loading states show correctly
- âœ… Error handling works
- âœ… Permissions enforced correctly
- âœ… Keyboard navigation works
- âœ… Screen reader compatible

## Implementation Notes

### Tech Stack
- **Framework**: Next.js 14 (App Router)
- **UI Library**: React with TypeScript
- **Styling**: Tailwind CSS
- **Charts**: Recharts
- **Maps**: Google Maps JavaScript API
- **State Management**: React Context + hooks
- **Real-time**: Firebase Firestore listeners
- **Authentication**: Firebase Admin SDK

### Performance Optimizations
- Server-side rendering for initial load
- Client-side data fetching for real-time updates
- Lazy load charts (only when visible)
- Memoize expensive calculations
- Virtual scrolling for long activity lists
- Image optimization with Next.js Image component

### Security
- Role-based access control (RBAC)
- JWT token validation on every API call
- CSRF protection
- XSS prevention (sanitize inputs)
- SQL injection prevention (parameterized queries)
- Rate limiting on API endpoints

## Navigation Flow

**Entry Point:**
- Admin login â†’ Admin Dashboard Home

**Exit Points:**
- Click stat card â†’ Respective detail page
- Click sidebar item â†’ Navigate to section
- Click activity row â†’ Activity detail modal
- Click pending action â†’ Management page
- Click top performer â†’ Provider detail page
- Click search result â†’ Entity detail page
